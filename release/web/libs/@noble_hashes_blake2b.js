/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/@noble/hashes@1.7.1/esm/blake2b.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"./npm/@noble/hashes@1.7.1/crypto/+esm.js";function t(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function e(t,...e){if(!((s=t)instanceof Uint8Array||ArrayBuffer.isView(s)&&"Uint8Array"===s.constructor.name))throw new Error("Uint8Array expected");var s;if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function s(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function r(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}const h=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function n(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const i=h?t=>t:t=>n(t);function o(t){for(let e=0;e<t.length;e++)t[e]=n(t[e])}function l(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),e(t),t}class f{clone(){return this._cloneInto()}}function u(t){const e=(e,s)=>t(s).update(l(e)).digest(),s=t({});return e.outputLen=s.outputLen,e.blockLen=s.blockLen,e.create=e=>t(e),e}const c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class d extends f{constructor(e,s,h={},n,i,o){if(super(),this.blockLen=e,this.outputLen=s,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,t(e),t(s),t(n),s<0||s>n)throw new Error("outputLen bigger than keyLen");if(void 0!==h.key&&(h.key.length<1||h.key.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==h.salt&&h.salt.length!==i)throw new Error("salt must be undefined or "+i);if(void 0!==h.personalization&&h.personalization.length!==o)throw new Error("personalization must be undefined or "+o);this.buffer=new Uint8Array(e),this.buffer32=r(this.buffer)}update(t){s(this);const{blockLen:e,buffer:r,buffer32:n}=this,i=(t=l(t)).length,f=t.byteOffset,u=t.buffer;for(let s=0;s<i;){this.pos===e&&(h||o(n),this.compress(n,0,!1),h||o(n),this.pos=0);const l=Math.min(e-this.pos,i-s),c=f+s;if(l!==e||c%4||!(s+l<i))r.set(t.subarray(s,s+l),this.pos),this.pos+=l,this.length+=l,s+=l;else{const t=new Uint32Array(u,c,Math.floor((i-s)/4));h||o(t);for(let r=0;s+e<i;r+=n.length,s+=e)this.length+=e,this.compress(t,r,!1);h||o(t)}}return this}digestInto(t){s(this),function(t,s){e(t);const r=s.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(t,this);const{pos:n,buffer32:l}=this;this.finished=!0,this.buffer.subarray(n).fill(0),h||o(l),this.compress(l,0,!0),h||o(l);const f=r(t);this.get().forEach(((t,e)=>f[e]=i(t)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const s=t.slice(0,e);return this.destroy(),s}_cloneInto(t){const{buffer:e,length:s,finished:r,destroyed:h,outputLen:n,pos:i}=this;return t||(t=new this.constructor({dkLen:n})),t.set(...this.get()),t.length=s,t.finished=r,t.destroyed=h,t.outputLen=n,t.buffer.set(e),t.pos=i,t}}const v=BigInt(2**32-1),a=BigInt(32);function g(t,e=!1){return e?{h:Number(t&v),l:Number(t>>a&v)}:{h:0|Number(t>>a&v),l:0|Number(t&v)}}const p={fromBig:g,split:function(t,e=!1){let s=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let h=0;h<t.length;h++){const{h:n,l:i}=g(t[h],e);[s[h],r[h]]=[n,i]}return[s,r]},toBig:(t,e)=>BigInt(t>>>0)<<a|BigInt(e>>>0),shrSH:(t,e,s)=>t>>>s,shrSL:(t,e,s)=>t<<32-s|e>>>s,rotrSH:(t,e,s)=>t>>>s|e<<32-s,rotrSL:(t,e,s)=>t<<32-s|e>>>s,rotrBH:(t,e,s)=>t<<64-s|e>>>s-32,rotrBL:(t,e,s)=>t>>>s-32|e<<64-s,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,s)=>t<<s|e>>>32-s,rotlSL:(t,e,s)=>e<<s|t>>>32-s,rotlBH:(t,e,s)=>e<<s-32|t>>>64-s,rotlBL:(t,e,s)=>t<<s-32|e>>>64-s,add:function(t,e,s,r){const h=(e>>>0)+(r>>>0);return{h:t+s+(h/2**32|0)|0,l:0|h}},add3L:(t,e,s)=>(t>>>0)+(e>>>0)+(s>>>0),add3H:(t,e,s,r)=>e+s+r+(t/2**32|0)|0,add4L:(t,e,s,r)=>(t>>>0)+(e>>>0)+(s>>>0)+(r>>>0),add4H:(t,e,s,r,h)=>e+s+r+h+(t/2**32|0)|0,add5H:(t,e,s,r,h,n)=>e+s+r+h+n+(t/2**32|0)|0,add5L:(t,e,s,r,h)=>(t>>>0)+(e>>>0)+(s>>>0)+(r>>>0)+(h>>>0)},y=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),w=new Uint32Array(32);function b(t,e,s,r,h,n){const i=h[n],o=h[n+1];let l=w[2*t],f=w[2*t+1],u=w[2*e],c=w[2*e+1],d=w[2*s],v=w[2*s+1],a=w[2*r],g=w[2*r+1],y=p.add3L(l,u,i);f=p.add3H(y,f,c,o),l=0|y,({Dh:g,Dl:a}={Dh:g^f,Dl:a^l}),({Dh:g,Dl:a}={Dh:p.rotr32H(g,a),Dl:p.rotr32L(g,a)}),({h:v,l:d}=p.add(v,d,g,a)),({Bh:c,Bl:u}={Bh:c^v,Bl:u^d}),({Bh:c,Bl:u}={Bh:p.rotrSH(c,u,24),Bl:p.rotrSL(c,u,24)}),w[2*t]=l,w[2*t+1]=f,w[2*e]=u,w[2*e+1]=c,w[2*s]=d,w[2*s+1]=v,w[2*r]=a,w[2*r+1]=g}function L(t,e,s,r,h,n){const i=h[n],o=h[n+1];let l=w[2*t],f=w[2*t+1],u=w[2*e],c=w[2*e+1],d=w[2*s],v=w[2*s+1],a=w[2*r],g=w[2*r+1],y=p.add3L(l,u,i);f=p.add3H(y,f,c,o),l=0|y,({Dh:g,Dl:a}={Dh:g^f,Dl:a^l}),({Dh:g,Dl:a}={Dh:p.rotrSH(g,a,16),Dl:p.rotrSL(g,a,16)}),({h:v,l:d}=p.add(v,d,g,a)),({Bh:c,Bl:u}={Bh:c^v,Bl:u^d}),({Bh:c,Bl:u}={Bh:p.rotrBH(c,u,63),Bl:p.rotrBL(c,u,63)}),w[2*t]=l,w[2*t+1]=f,w[2*e]=u,w[2*e+1]=c,w[2*s]=d,w[2*s+1]=v,w[2*r]=a,w[2*r+1]=g}class B extends d{constructor(t={}){super(128,void 0===t.dkLen?64:t.dkLen,t,64,16,16),this.v0l=0|y[0],this.v0h=0|y[1],this.v1l=0|y[2],this.v1h=0|y[3],this.v2l=0|y[4],this.v2h=0|y[5],this.v3l=0|y[6],this.v3h=0|y[7],this.v4l=0|y[8],this.v4h=0|y[9],this.v5l=0|y[10],this.v5h=0|y[11],this.v6l=0|y[12],this.v6h=0|y[13],this.v7l=0|y[14],this.v7h=0|y[15];const e=t.key?t.key.length:0;if(this.v0l^=this.outputLen|e<<8|65536|1<<24,t.salt){const e=r(l(t.salt));this.v4l^=i(e[0]),this.v4h^=i(e[1]),this.v5l^=i(e[2]),this.v5h^=i(e[3])}if(t.personalization){const e=r(l(t.personalization));this.v6l^=i(e[0]),this.v6h^=i(e[1]),this.v7l^=i(e[2]),this.v7h^=i(e[3])}if(t.key){const e=new Uint8Array(this.blockLen);e.set(l(t.key)),this.update(e)}}get(){let{v0l:t,v0h:e,v1l:s,v1h:r,v2l:h,v2h:n,v3l:i,v3h:o,v4l:l,v4h:f,v5l:u,v5h:c,v6l:d,v6h:v,v7l:a,v7h:g}=this;return[t,e,s,r,h,n,i,o,l,f,u,c,d,v,a,g]}set(t,e,s,r,h,n,i,o,l,f,u,c,d,v,a,g){this.v0l=0|t,this.v0h=0|e,this.v1l=0|s,this.v1h=0|r,this.v2l=0|h,this.v2h=0|n,this.v3l=0|i,this.v3h=0|o,this.v4l=0|l,this.v4h=0|f,this.v5l=0|u,this.v5h=0|c,this.v6l=0|d,this.v6h=0|v,this.v7l=0|a,this.v7h=0|g}compress(t,e,s){this.get().forEach(((t,e)=>w[e]=t)),w.set(y,16);let{h:r,l:h}=p.fromBig(BigInt(this.length));w[24]=y[8]^h,w[25]=y[9]^r,s&&(w[28]=~w[28],w[29]=~w[29]);let n=0;const i=c;for(let s=0;s<12;s++)b(0,4,8,12,t,e+2*i[n++]),L(0,4,8,12,t,e+2*i[n++]),b(1,5,9,13,t,e+2*i[n++]),L(1,5,9,13,t,e+2*i[n++]),b(2,6,10,14,t,e+2*i[n++]),L(2,6,10,14,t,e+2*i[n++]),b(3,7,11,15,t,e+2*i[n++]),L(3,7,11,15,t,e+2*i[n++]),b(0,5,10,15,t,e+2*i[n++]),L(0,5,10,15,t,e+2*i[n++]),b(1,6,11,12,t,e+2*i[n++]),L(1,6,11,12,t,e+2*i[n++]),b(2,7,8,13,t,e+2*i[n++]),L(2,7,8,13,t,e+2*i[n++]),b(3,4,9,14,t,e+2*i[n++]),L(3,4,9,14,t,e+2*i[n++]);this.v0l^=w[0]^w[16],this.v0h^=w[1]^w[17],this.v1l^=w[2]^w[18],this.v1h^=w[3]^w[19],this.v2l^=w[4]^w[20],this.v2h^=w[5]^w[21],this.v3l^=w[6]^w[22],this.v3h^=w[7]^w[23],this.v4l^=w[8]^w[24],this.v4h^=w[9]^w[25],this.v5l^=w[10]^w[26],this.v5h^=w[11]^w[27],this.v6l^=w[12]^w[28],this.v6h^=w[13]^w[29],this.v7l^=w[14]^w[30],this.v7h^=w[15]^w[31],w.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const m=u((t=>new B(t)));export{B as BLAKE2b,m as blake2b};export default null;
//# sourceMappingURL=/sm/0267fc4009c4aa421c4a7932b53b58f352c434fd529bd5723340b1029e44e7b2.map